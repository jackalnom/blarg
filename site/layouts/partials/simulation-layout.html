{{- /* Force rebuild */ -}}
{{- $base := .base -}}
{{- $hasLog := .hasLog | default false -}}

<div class="sim-controls">
    {{ if .hasCount }}
    <label class="sim-param-label">Dice per roll
        <input id="{{ $base }}Count" type="number" min="1" max="20" value="5">
    </label>
    {{ end }}

    <button id="{{ $base }}Step">Step</button>

    <button id="{{ $base }}Run">Run</button>
    <button id="{{ $base }}Reset" class="sim-reset-btn">Reset</button>
</div>

{{ if $hasLog }}
<div class="sim-log-options">
    <label><input type="checkbox" id="{{ $base }}LogX"> Log scale X</label>
    <label><input type="checkbox" id="{{ $base }}LogY"> Log scale Y</label>
</div>
{{ end }}

<div id="{{ $base }}Info" class="sim-info"></div>
<div class="sim-container">
    <canvas id="{{ $base }}Canvas" class="sim-canvas"></canvas>
</div>